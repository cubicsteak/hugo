{{ define "main" }}
<article class="single">
  <h1 class="post-title">{{ .Title }}</h1>
  <div class="post-meta">
    <div class="meta date">
      <span class="label">Published:</span>
      <span class="value">{{ .Date | time.Format ":date_medium" }}</span>
    </div>

    {{ with .GetTerms "categories" }}
      <div class="meta categories">
        <span class="label">Categories:</span>
        <span class="value">
          {{ $len := len . }}
          {{ range $index, $cat := . }}
            <a class="" href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
            {{- if eq (add $index 1) $len }}.{{ else }}, {{ end -}}
          {{ end }}
        </span>
      </div>
    {{ end }}

    {{ with .GetTerms "tags" }}
      <div class="meta tags">
        <span class="label">Tags:</span>
        <span class="value">
          {{ $len := len . }}
          {{ range $index, $tag := . }}
            <a class="" href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
            {{- if eq (add $index 1) $len }}.{{ else }}, {{ end -}}
          {{ end }}
        </span>
      </div>
    {{ end }}
  </div>

  <hr>

  <div class="post-content">
    {{ .Content }}
  </div>

  <hr>

  {{ if or .PrevInSection .NextInSection }}
    <div class="post-navigation">
      <div class="prev-post">
        {{ if .PrevInSection }}
            <a href="{{ .PrevInSection.Permalink }}">
              <span>← Prev</span>
              <strong>{{ .PrevInSection.Title }}</strong>
            </a>
        {{ end }}
      </div>

      <div class="next-post">
        {{ if .NextInSection }}
          <a href="{{ .NextInSection.Permalink }}">
            <span>Next →</span>
            <strong>{{ .NextInSection.Title }}</strong>
          </a>
        {{ end }}
      </div>
    </div>
  {{ end }}
</article>
{{ end }}
